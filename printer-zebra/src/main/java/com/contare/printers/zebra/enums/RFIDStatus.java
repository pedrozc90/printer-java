package com.contare.printers.zebra.enums;

import lombok.AllArgsConstructor;
import lombok.Getter;

import java.util.Map;
import java.util.stream.Stream;

@Getter
@AllArgsConstructor
public enum RFIDStatus {

    RFID_OK("00000000", "PRINTING OK"),
    WRITE_FAILED("02000406", "WRITE FAILED"),
    DATA_AMOUNT_ERROR("02000100", "DATA AMOUNT ERROR"),
    INVALID_OPCODE("02000101", "INVALID OPCODE"),
    UNKNOWN_OPCODE("02000102", "UNKNOWN OPCODE"),
    RFID_PWR_TOO_HIGH("02000103", "RFID PWR TOO HIGH"),
    INVALID_FREQUENCY("02000104", "INVALID FREQUENCY"),
    INVALID_PARAMETER("02000105", "INVALID PARAMETER"),
    RFID_PWR_TOO_LOW("02000106", "RFID PWR TOO LOW"),
    INVALID_COMMAND("02000109", "INVALID COMMAND"),
    INVALID_BAUD_RATE("0200010A", "INVALID BAUD RATE"),
    INVALID_REGION("0200010B", "INVALID REGION"),
    BAD_LICENSE_KEY("0200010C", "BAD LICENSE KEY"),
    BAD_IMAGE_CRC("02000200", "BAD IMAGE CRC"),
    READER_FW_ERROR("02000201", "READER FW ERROR"),
    RFID_FLASH_ERROR0("02000300", "RFID FLASH ERROR"),
    RFID_FLASH_ERROR1("02000301", "RFID FLASH ERROR"),
    RFID_FLASH_ERROR2("02000302", "RFID FLASH ERROR"),
    RFID_FLASH_ERROR3("02000303", "RFID FLASH ERROR"),
    RFID_FLASH_ERROR4("02000304", "RFID FLASH ERROR"),
    RFID_FLASH_ERROR5("02000305", "RFID FLASH ERROR"),
    RFID_FLASH_ERROR6("02000306", "RFID FLASH ERROR"),
    NO_TAG_FOUND("02000400", "NO TAG FOUND"),
    PROTOCOL_UNDEFINED("02000401", "PROTOCOL UNDEFINED"),
    INVALID_PROTOCOL("02000402", "INVALID PROTOCOL"),
    LOCK_ERROR("02000403", "LOCK ERROR"),
    NO_DATA_READ("02000404", "NO DATA READ"),
    AFE_NOT_ON("02000405", "AFE NOT ON"),
    NOT_IMPLEMENTED("02000407", "NOT IMPLEMENTED"),
    INVALID_WRITE_DATA("02000408", "INVALID WRITE DATA"),
    INVALID_ADDRESS("02000409", "INVALID ADDRESS"),
    GENERAL_TAG_ERROR("0200040A", "GENERAL TAG ERROR"),
    DATA_TOO_LARGE("0200040B", "DATA TOO LARGE"),
    PROT_BIT_DCDNG_BAD("0200040F", "PROT BIT DCDNG BAD"),
    PROTOCOL_BAD_EPC("02000410", "PROTOCOL BAD EPC"),
    PROT_BAD_NUM_DATA("02000411", "PROT BAD NUM DATA"),
    GEN2_PROTOCOL_ERR("02000420", "GEN2 PROTOCOL ERR"),
    GEN2_MEMORY_BAD_PC("02000423", "GEN2 MEMORY BAD PC"),
    GEN2_MEMORY_LOCKED("02000424", "GEN2 MEMORY LOCKED"),
    GEN2_LOW_POWER("0200042B", "GEN2 LOW POWER"),
    GEN2_ERROR("0200042F", "GEN2 ERROR"),
    GEN2_UNKNOWN_ERROR("02000430", "GEN2 UNKNOWN ERROR"),
    TRANSMITTER_ON("02000500", "TRANSMITTER ON"),
    NO_ANTENNA_FOUND("02000503", "NO ANTENNA FOUND"),
    RFID_TOO_HOT("02000504", "RFID TOO HOT"),
    HIGH_RETURN_LOSS("02000505", "HIGH RETURN LOSS"),
    BAD_ANTENNA_CFG("02000507", "BAD ANTENNA CFG"),
    NOT_ENOUGH_TAGS("02000600", "NOT ENOUGH TAGS"),
    TAG_ID_BUFFER_FULL("02000601", "TAG ID BUFFER FULL"),
    REPEATED_TAG_ID("02000602", "REPEATED TAG ID"),
    TOO_MANY_TAG_IDS("02000603", "TOO MANY TAG IDS"),
    SYS_UNKNOWN_ERROR("02007F00", "SYS UNKNOWN ERROR"),
    TM_ASSERT_FAILED("02007F01", "TM ASSERT FAILED"),
    RDR_COMM_TIMEOUT("02000101", "RDR COMM TIMEOUT"),
    ENCODER_ERROR("00001239", "ENCODER ERROR"),
    BAD_RFID_DATA("00001240", "BAD RFID DATA"),
    RFID_TEST_ERROR("00001241", "RFID TEST ERROR"),
    COUNTRY_CODE_ERROR("00001242", "COUNTRY CODE ERROR"),
    NO_READER_PRESENT("00001244", "NO READER PRESENT"),
    BLOCKED_RESPONSE("02000604", "BLOCKED RESPONSE"),
    PRINTER_ERROR("02001238", "PRINTER ERROR");

    private static final Map<String, RFIDStatus> _codes = new java.util.HashMap<>();

    static {
        for (RFIDStatus row : values()) {
            _codes.put(row.code, row);
        }
    }

    private final String code;
    private final String description;

    public static RFIDStatus get(final String value) {
        if (value == null) return null;
        return _codes.get(value);
    }

    public static RFIDStatus parse(final String line) {
        return Stream.of(values())
            .filter((v) -> line.equals(v.code))
            .findFirst()
            .orElse(null);
    }

    @Override
    public String toString() {
        return String.format("%s: %s", code, description);
    }
}
